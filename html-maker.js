(function(global){function require(file,parentModule){if({}.hasOwnProperty.call(require.cache,file))return require.cache[file];var resolved=require.resolve(file);if(!resolved)throw new Error("Failed to resolve module "+file);var module$={id:file,require:require,filename:file,exports:{},loaded:false,parent:parentModule,children:[]};if(parentModule)parentModule.children.push(module$);var dirname=file.slice(0,file.lastIndexOf("/")+1);require.cache[file]=module$.exports;resolved.call(module$.exports,module$,module$.exports,dirname,file);module$.loaded=true;return require.cache[file]=module$.exports}require.modules={};require.cache={};require.resolve=function(file){return{}.hasOwnProperty.call(require.modules,file)?require.modules[file]:void 0};require.define=function(file,fn){require.modules[file]=fn};var process=function(){var cwd="/";return{title:"browser",version:"v0.10.26",browser:true,env:{},argv:[],nextTick:global.setImmediate||function(fn){setTimeout(fn,0)},cwd:function(){return cwd},chdir:function(dir){cwd=dir}}}();require.define("/build/helper.js",function(module,exports,__dirname,__filename){(function(){var Helper,slice=[].slice;Helper={partial:function(){var bounded,element,f,values;f=arguments[0],values=2<=arguments.length?slice.call(arguments,1):[];bounded=function(){var j,len,results;results=[];for(j=0,len=values.length;j<len;j++){element=values[j];results.push(element)}return results}();return function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];return f.apply(this,bounded.concat(args))}},use:function(){var args,context,fnc;fnc=arguments[0],context=arguments[1],args=3<=arguments.length?slice.call(arguments,2):[];if(fnc&&typeof fnc==="function"){return fnc.apply(context,args)}else{return fnc}},tags:["div","ul","li","a","span"],definePattern:function(context,name,patterns,func){var flag,originFunc,patternMatchFunc;originFunc=context[name];flag="_pm_"+name+"_result";patternMatchFunc=function(){var arg,i,j,len,pattern;if(this[flag]){return this[flag]}for(i=j=0,len=patterns.length;j<len;i=++j){pattern=patterns[i];arg=arguments[i];if(typeof arg!==pattern){return}}return this[flag]=func.apply(this,arguments)};if(originFunc&&typeof originFunc==="function"){return context[name]=function(){this[flag]=void 0;originFunc.apply(this,arguments);return patternMatchFunc.apply(this,arguments)}}else{return context[name]=function(){this[flag]=void 0;return patternMatchFunc.apply(this,arguments)}}}};module.exports=Helper}).call(this)});require("/build/helper.js")}).call(this,this);(function(global){function require(file,parentModule){if({}.hasOwnProperty.call(require.cache,file))return require.cache[file];var resolved=require.resolve(file);if(!resolved)throw new Error("Failed to resolve module "+file);var module$={id:file,require:require,filename:file,exports:{},loaded:false,parent:parentModule,children:[]};if(parentModule)parentModule.children.push(module$);var dirname=file.slice(0,file.lastIndexOf("/")+1);require.cache[file]=module$.exports;resolved.call(module$.exports,module$,module$.exports,dirname,file);module$.loaded=true;return require.cache[file]=module$.exports}require.modules={};require.cache={};require.resolve=function(file){return{}.hasOwnProperty.call(require.modules,file)?require.modules[file]:void 0};require.define=function(file,fn){require.modules[file]=fn};var process=function(){var cwd="/";return{title:"browser",version:"v0.10.26",browser:true,env:{},argv:[],nextTick:global.setImmediate||function(fn){setTimeout(fn,0)},cwd:function(){return cwd},chdir:function(dir){cwd=dir}}}();require.define("/build/html-maker.js",function(module,exports,__dirname,__filename){(function(){var HtmlMaker,helper,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};helper=require("/src/helper.js",module);HtmlMaker=function(){function HtmlMaker(){this.draw=bind(this.draw,this);this.toString=bind(this.toString,this);this.start=bind(this.start,this);var i,len,ref,tag;ref=helper.tags;for(i=0,len=ref.length;i<len;i++){tag=ref[i];helper.definePattern(this,tag,["object","string"],function(attrs,func){var obj;obj={};obj.attrs=attrs;obj.buffer=[];obj.tag=tag;obj.func=func;return this.buffer.push(obj)});helper.definePattern(this,tag,["object","string"],function(attrs,content){var obj;console.log("pattern MATCH");console.log(arguments);obj={};obj.attrs=attrs;obj.buffer=[];obj.tag=tag;obj.text=content;return this.buffer.push(obj)});helper.definePattern(this,tag,["string"],function(content){var obj;obj={};obj.attrs={};obj.buffer=[];obj.tag=tag;obj.text=content;return this.buffer.push(obj)})}}HtmlMaker.prototype.start=function(func){console.log("start");this.buffer=[];console.log("use draw");helper.use(func,this);return this.toString()};HtmlMaker.prototype.toString=function(){var el;console.log("toString");return function(){var i,len,ref,results;ref=this.buffer;results=[];for(i=0,len=ref.length;i<len;i++){el=ref[i];results.push(this.draw(el))}return results}.call(this).join("")};HtmlMaker.prototype.draw=function(el){var attrs,content,i,key,len,ref,ref1,subEl,val;console.log("draw el "+JSON.stringify(el));attrs="";ref=el.attrs;for(key in ref){val=ref[key];attrs+=key+"='"+val+"' "}console.log(attrs);content=[];if(!el.text){ref1=el.buffer;for(i=0,len=ref1.length;i<len;i++){subEl=ref1[i];content.push(this.draw(subEl))}}else{if(typeof el.text==="function"){content=helper.use(el.text,this)}else{content=[el.text]}}return"<"+el.tag+(attrs?" "+attrs:"")+">"+content.join("")+"</"+el.tag+">"};return HtmlMaker}();if(typeof module==="object"&&typeof module.exports==="object"){module.exports=(new HtmlMaker).start}try{window.htmlMake=(new HtmlMaker).start;window.HtmlMaker=HtmlMaker}catch(_error){}}).call(this)});require.define("/src/helper.js",function(module,exports,__dirname,__filename){(function(){var Helper,__slice=[].slice;Helper={partial:function(){var bounded,element,f,values;f=arguments[0],values=2<=arguments.length?__slice.call(arguments,1):[];bounded=function(){var _i,_len,_results;_results=[];for(_i=0,_len=values.length;_i<_len;_i++){element=values[_i];_results.push(element)}return _results}();return function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];return f.apply(this,bounded.concat(args))}},use:function(){var args,context,fnc;fnc=arguments[0],context=arguments[1],args=3<=arguments.length?__slice.call(arguments,2):[];if(fnc&&typeof fnc==="function"){return fnc.apply(context,args)}else{return fnc}},tags:["div","ul","li","a","span"],definePattern:function(context,name,patterns,func){var flag,originFunc,patternMatchFunc;originFunc=context[name];flag="_pm_"+name+"_result";patternMatchFunc=function(){var arg,i,pattern,_i,_len;if(this[flag]){return this[flag]}for(i=_i=0,_len=patterns.length;_i<_len;i=++_i){pattern=patterns[i];arg=arguments[i];if(typeof arg!==pattern){return}}return this[flag]=func.apply(this,arguments)};if(originFunc&&typeof originFunc==="function"){return context[name]=function(){this[flag]=void 0;originFunc.apply(this,arguments);return patternMatchFunc.apply(this,arguments)}}else{return context[name]=function(){this[flag]=void 0;return patternMatchFunc.apply(this,arguments)}}}};module.exports=Helper}).call(this)});require("/build/html-maker.js")}).call(this,this);